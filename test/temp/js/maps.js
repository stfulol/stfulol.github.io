var zone="z_mmk";
function kalkDelivery(){
				
				var form=$("#kalkDelivery");
				var select=form.find('select[name=selectAuto]');
				var range=form.find('input[name=range]');
				var manip=form.find('input[name=manipulyator]').prop("checked");
				var res=0;
				var autoData2={};				
				if(select.val()){				
				$.each($("#"+select.val()).find("div"),function(i){
					autoData2[$(this).attr('class')]=$(this).find('label.value').text()*1;									
				});												
				res=autoData2[zone]*1+autoData2.priceToKm*range.val();
				$("#result").text(res);
				}
				else{$("#result").text(0);}
				
		}

	$(function(){
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		
		var allAuto2={};		
		$.each($("div[id^='auto-']"),function(i,obj){			
				allAuto2[i]={};
				allAuto2[i]['id']=$(this).attr('id');		
				$.each($(this).find("div"),function(i2){					
					allAuto2[i][$(this).attr('class')]=$(this).find('label.value').text();					
				});
				allAuto2[i][$(obj).find('.manipulyator').attr('class')]=$(obj).find('.manipulyator').val();
		});

		
		$("#kalkDelivery select").on('change',function(){
			
			var length=$("#kalkDelivery input[name=length]").val(0);
   		 	var tonnage=$("#kalkDelivery input[name=tonnage]").val(0);
			kalkDelivery();
		
		});

		$("#kalkDelivery input[name=manipulyator]").on('change',function(e){
               $(this).prop("checked");

				kalkDelivery();

		});

		$("#kalkDelivery input[name=range]").on('change input',function(e){			
					
					if(e.which!=13&&e.which!=38){
						if (this.value.match(/[^0-9]/g)) {
      	  					this.value = this.value.replace(/[^0-9]/g, ''); 
	      	  			}
	      	  			keypressSlider.noUiSlider.set(this.value);
						kalkDelivery();
					}
				});
				
		$("#kalkDelivery input[name=length], #kalkDelivery input[name=tonnage],#kalkDelivery input[name=manipulyator]").on('change keyup input',function(){
					var manip=$("#kalkDelivery input[name=manipulyator]").prop("checked");

					if (this.value.match(/[^0-9]/g)) {
      				  this.value = this.value.replace(/[^0-9\.]/g, '');
      	  				while(this.value.match(/\.(.*)\./g)){
      	  					this.value = this.value.replace(/\.(.*)\./g, '.$1');
      	  				}
   		 			}
   		 			
   		 			var length=$("#kalkDelivery input[name=length]").val()*1;
   		 			var tonnage=$("#kalkDelivery input[name=tonnage]").val()*1;   
   					if(tonnage>20){tonnage=20;$("#kalkDelivery input[name=tonnage]").val(20);	}
					if(length>12){length=12;$("#kalkDelivery input[name=length]").val(12);	}
   		 			var relAuto={};
						$.each(allAuto2, function(i,data){
							if(tonnage<=data.tonnage&&length<=data.length){

								if(manip==false||(manip==true&&data.manipulyator==1)){

									//relAuto[data.id]=data.priceToKm;
									relAuto[data.id]=data.z_mmk;


								}
									//alert(data.id+' '+data.priceToKm);
							}
						});


				var endVar={'price':0,'id':''};
				$.each(relAuto, function(id,price){
					console.log(id+"+"+price);
					if(endVar.price*1>price*1||endVar.price*1==0){
						endVar.id=id;
						endVar.price=price;
					}				
				});			
				
				$("#kalkDelivery select").val('');
				$("#kalkDelivery select").val(endVar.id);
				$("#result").text(0);
				if(endVar.id){
				kalkDelivery();
				}
				
		});
		
		$("div[id^=auto] input[type=button]").on('click',function(){															
			$("#kalkDelivery select").val($(this).closest("div[id^=auto]").attr('id'));			
			kalkDelivery();				
   		 	$("#kalkDelivery input[name=length]").val('0');
   		 	$("#kalkDelivery input[name=tonnage]").val('0');
			$('html, body').stop().animate({scrollLeft: 0, scrollTop:$('#kalkDelivery').offset().top}, 500);
		});
	});
///////////////
var ring3_coords=[[[55.78918221655902,37.57164116894532],[55.79305084084796,37.5929271796875],[55.79305084084796,37.61146660839843],[55.79266399578285,37.63275261914063],[55.79266399578285,37.64579888378905],[55.78453935804856,37.66296502148436],[55.78028291625595,37.673264704101555],[55.7748649513304,37.68219109570313],[55.77099451322955,37.689744196289055],[55.76092956778257,37.69455071484376],[55.7508620127694,37.69317742382811],[55.74582725655897,37.69798394238281],[55.74079184781714,37.698670587890625],[55.73498094990869,37.698670587890625],[55.73110653525839,37.703477106445305],[55.727619231878045,37.71103020703126],[55.72219391592247,37.7089702705078],[55.717155444680785,37.689744196289055],[55.71017802218142,37.6698314765625],[55.70785193654586,37.66296502148436],[55.704362547324564,37.65747185742187],[55.70281160722322,37.64648552929686],[55.70281160722322,37.63069268261717],[55.70475027269135,37.619706354492195],[55.699709541571956,37.60734673535156],[55.70242386253921,37.59773369824217],[55.705525711834824,37.58743401562501],[55.71017802218142,37.57919426953124],[55.713666889878176,37.573014459960945],[55.71831822675229,37.5599681953125],[55.723356547355266,37.549668512695305],[55.73071907255304,37.54554863964844],[55.73614319899915,37.537995539062486],[55.74079184781714,37.53456231152343],[55.74543994059236,37.53181572949218],[55.75318552633335,37.52906914746094],[55.76015523312594,37.53250237499999],[55.765188132386776,37.53662224804686],[55.770607448192436,37.537995539062486],[55.774090894577185,37.549668512695305],[55.778348015605985,37.55722161328126],[55.78183076728682,37.56202813183593],[55.78918221655902,37.57164116894532]]];
//var odincovo_coords=[[[55.78976253438509,37.371827326171726],[55.79740258153468,37.348653040282876],[55.80194721201378,37.324105463378515],[55.803880935757135,37.309685907714524],[55.803880935763345,37.29251977001929],[55.79595205542373,37.26917382275366],[55.78531320597229,37.24720116650374],[55.776800025231076,37.23209496533164],[55.77525197350224,37.2224819282223],[55.774477924480806,37.20943566357366],[55.77757402793907,37.181283197753594],[55.78105684908662,37.156563959472464],[55.786473949545865,37.130471430175504],[55.78802155361127,37.12291832958968],[55.78608703888246,37.11055871044902],[55.784926283738265,37.09476586376928],[55.78608703888246,37.066613397948664],[55.79063299545981,37.054597101561924],[55.79904644553562,37.04258080517529],[55.817414301597324,37.018548212401996],[55.81818749405316,36.992112360351165],[55.81818749405622,36.960183344237876],[55.822826324859804,36.919671259276896],[55.79227714644255,36.92173119580054],[55.72684423269534,36.86542626416003],[55.724519143614955,36.8630230048825],[55.71560501409617,36.86679955517535],[55.713085433246604,36.87263604199183],[55.708336548771555,36.87383767163053],[55.70475027228087,36.877785883300504],[55.69428033126384,36.89083214794877],[55.68206183990235,36.9055950263665],[55.67430207737463,36.93718071972605],[55.670615648596055,36.95160027539027],[55.66654076883262,36.96430321728464],[55.65081938318174,36.97082634960914],[55.638393062756684,36.983185968749794],[55.629459199121634,36.98455925976542],[55.63043037035515,37.02163811718713],[55.631401517417416,37.02850457226522],[55.655284124986665,37.09613915478491],[55.658777914100845,37.1253215888669],[55.65373122930808,37.14935418164025],[55.653925344641564,37.15604897534155],[55.65489590686017,37.16549035107365],[55.65916609356159,37.187119684569545],[55.66110693287768,37.2035991767573],[55.66110693287768,37.22179528271449],[55.661689165826935,37.23278161083917],[55.66304767554385,37.24102135693316],[55.66673482037112,37.2516643623044],[55.66925740267347,37.2602474311517],[55.67294395997512,37.27226372753869],[55.68361360688847,37.29492302929652],[55.687298805699825,37.310029230468416],[55.687298805699825,37.31620904003869],[55.6884624802358,37.31964226757765],[55.690789724973385,37.32444878613241],[55.69292291044586,37.331315241210625],[55.694668157073565,37.33921166455042],[55.69912787631189,37.3440181831052],[55.70823962672011,37.36187096630796],[55.70998418660045,37.36702080761694],[55.71250396832266,37.37663384472607],[55.71366688945474,37.38453026806577],[55.713957614299204,37.38813515698182],[55.72219391549228,37.382813654296044],[55.73110653513941,37.37697716748019],[55.743696970841356,37.370797357909844],[55.74718283191644,37.368394098632564],[55.768865607679004,37.37011071240205],[55.78976253438509,37.371827326171726]]];
//var fullmmk=[[[55.82417921287433,36.91829796826143],[55.789762534701254,36.92173119580049],[55.74524628107971,36.88465233837862],[55.72665048089572,36.864052973144254],[55.71541120630251,36.864052973144254],[55.71114718339627,36.8729793647458],[55.70261773527634,36.87915917431613],[55.68361360721541,36.901818476073935],[55.679734073779706,36.91349144970675],[55.67430207768848,36.93477746044893],[55.66925740300543,36.95194359814424],[55.66537643951011,36.962243280761435],[55.659554269475166,36.9663631538083],[55.652178272089294,36.97185631787082],[55.64596582332852,36.9766628364255],[55.64014075363786,36.98215600048799],[55.635480071452115,36.98421593701142],[55.63004190507902,36.983529291503615],[55.63206,37.03594],[55.62816,37.02342],[55.61314,37.01045],[55.60695,37.0028],[55.60115,37.00889],[55.58994,37.00459],[55.56751,36.99872],[55.54908,36.9846],[55.53948,36.9917],[55.53279,36.98267],[55.5265,36.97845],[55.51505,36.99824],[55.4828,37.05154],[55.44983,37.12432],[55.43295,37.1638],[55.41728,37.19178],[55.41371,37.19367],[55.40649,37.20406],[55.39379,37.2529],[55.39223,37.30525],[55.38949,37.35212],[55.37678,37.39554],[55.37078,37.41872],[55.35831,37.43675],[55.33532,37.47314],[55.3316,37.56721],[55.3318,37.67124],[55.33307,37.73286],[55.33449,37.76711],[55.33982,37.80959],[55.34315,37.83808],[55.34452,37.86452],[55.35586,37.9174],[55.36799,37.96581],[55.36828,37.97679],[55.36231,37.9967],[55.36857,38.07636],[55.37268,38.13095],[55.3762,38.16991],[55.38011,38.18279],[55.38813,38.19506],[55.39379,38.21145],[55.39809,38.22502],[55.40473,38.22978],[55.40962,38.23285],[55.41294,38.23935],[55.41589,38.24612],[55.41455,38.25701],[55.41498,38.27879],[55.41845,38.28889],[55.42048,38.29309],[55.42406,38.29591],[55.4269,38.29638],[55.43364,38.31608],[55.45822,38.32904],[55.47383,38.34329],[55.47831,38.34698],[55.48514,38.3493],[55.49015,38.36224],[55.49315,38.37042],[55.49693,38.37449],[55.51262,38.38595],[55.53774,38.40612],[55.57082,38.39127],[55.59027,38.38328],[55.60932,38.37427],[55.62301,38.36753],[55.63166,38.35943],[55.66643,38.38844],[55.68543,38.41539],[55.6922,38.42738],[55.69858,38.43457],[55.70821,38.42937],[55.72202,38.41852],[55.72827,38.42312],[55.73394,38.43028],[55.73883,38.45701],[55.74752,38.45365],[55.75079,38.44856],[55.75405,38.44296],[55.76003,38.43736],[55.7818,38.43213],[55.80241,38.42723],[55.82522,38.42358],[55.83797,38.4268],[55.84782,38.43019],[55.85256,38.44503],[55.86038,38.43996],[55.86675,38.4402],[55.87235,38.43496],[55.88643,38.42354],[55.89357,38.42621],[55.89902,38.42018],[55.90447,38.40728],[55.91401,38.40586],[55.93868,38.39994],[55.94408,38.39773],[55.94909,38.39208],[55.95294,38.38472],[55.95949,38.365],[55.97952,38.34724],[55.9853,38.33676],[55.9928,38.32492],[56.00126,38.31032],[56.00078,38.29822],[56.00934,38.27445],[56.01799,38.24819],[56.02607,38.22476],[56.02991,38.2151],[56.03414,38.20682],[56.03568,38.2027],[56.03885,38.1972],[56.04452,38.16047],[56.05797,38.11995],[56.07036,38.08288],[56.072,38.07464],[56.07651,38.04013],[56.07915,38.02116],[56.08057,38.01494],[56.08218,38.00837],[56.08506,37.99859],[56.09024,37.9888],[56.10578,37.96151],[56.12074,37.93456],[56.13052,37.88289],[56.13905,37.85877],[56.14451,37.82779],[56.15946,37.71501],[56.16176,37.70587],[56.1723,37.66274],[56.18589,37.606],[56.19637,37.56416],[56.20563,37.54358],[56.20589,37.52507],[56.19219,37.52513],[56.18268,37.5173],[56.16176,37.50094],[56.16065,37.49417],[56.15877,37.49049],[56.15574,37.48905],[56.15271,37.48828],[56.1432,37.4944],[56.13992,37.4933],[56.13704,37.44842],[56.13565,37.39559],[56.13425,37.37571],[56.12463,37.33662],[56.11997,37.27692],[56.11532,37.22306],[56.11069,37.2006],[56.1078,37.19074],[56.09877,37.17607],[56.09507,37.16561],[56.08445,37.16202],[56.0732,37.13149],[56.0605,37.14438],[56.05473,37.13447],[56.03858,37.08886],[56.02752,37.04703],[56.02088,37.0378],[56.01577,37.03042],[56.01024,37.02862],[56.00605,37.02751],[55.99141,37.02271],[55.98367,37.01139],[55.97401,36.99903],[55.95857,36.98291],[55.93388,36.957],[55.92519,36.94817],[55.91958,36.9462],[55.88884,36.94554],[55.87672,36.94516],[55.86498,36.94238],[55.85565,36.93565],[55.84729,36.92687]]];

var mkad=[[[55.89458585723312,37.69323939825336],[55.8947525663878,37.689571782751734],[55.89488178471569,37.687260968540556],[55.894945797729775,37.6849350970294],[55.895042254164586,37.68282151632555],[55.89517488135978,37.6803967993762],[55.89527736569914,37.67740345411581],[55.89534970742151,37.67462468557631],[55.895367792824466,37.6725862067248],[55.89544013436503,37.669684056570794],[55.8955576891002,37.666556600859366],[55.89570839978296,37.66414797716427],[55.89581691109937,37.66177690439495],[55.89597967751226,37.659137610724535],[55.89618162747899,37.65639639311093],[55.896425774529646,37.65373564176809],[55.89684359362721,37.64983945369643],[55.89717514530304,37.6471250581737],[55.89749463786907,37.644008331298075],[55.897856324370224,37.64100425720151],[55.89830239971882,37.63812892913753],[55.89873038610245,37.63531260967166],[55.89908000526436,37.632871799468425],[55.8995622333899,37.63043098926456],[55.89993595604696,37.62842469692182],[55.90031268893689,37.62647204875861],[55.90063215554848,37.624835901259615],[55.900990798886085,37.62325339794101],[55.901385604081135,37.62136512279443],[55.90169903433299,37.61992745876236],[55.90201848948566,37.61846833705847],[55.90237410626412,37.6169394779197],[55.902723692435316,37.615678839682936],[55.90304916637095,37.61425726890502],[55.90346805935277,37.61274986743859],[55.90374530976303,37.61138194084099],[55.90414008679081,37.60975115775992],[55.90443240002131,37.608737282752145],[55.90480607556031,37.6073478984827],[55.90522796294613,37.6058995056145],[55.90578846335262,37.60377519607455],[55.90633690212635,37.601822547912],[55.906918479775946,37.599810891150824],[55.90720775865498,37.598754100798864],[55.90756634093208,37.59749882697997],[55.90786465474314,37.5963776636118],[55.908289521950365,37.59485953330918],[55.90853660569434,37.593958311080414],[55.9088770965561,37.592788867949594],[55.90913622918224,37.59186618804859],[55.90945260967537,37.59071283817215],[55.90969064662821,37.58973114967261],[55.90995881308334,37.5886421728129],[55.91027819992108,37.58695774555139],[55.910501166520454,37.58589559078145],[55.910648805857534,37.584817342757326],[55.91085369215243,37.583326034545124],[55.91096216093445,37.582092218398444],[55.911046525331734,37.581013970374244],[55.911106785509155,37.58023076534204],[55.911158006580315,37.57914715290009],[55.91122429257188,37.577709488868],[55.911200188594734,37.577081851958454],[55.9112092275774,37.57657759666362],[55.91120922757768,37.57629864692612],[55.91120320158059,37.575622730253926],[55.91119416259004,37.57487707614838],[55.91118512359088,37.57478588104168],[55.91119114959049,37.57465713500892],[55.91117909759027,37.574544482230266],[55.91116403258448,37.57445865154189],[55.911170058581064,37.57431381225503],[55.911170058581064,37.574206523894624],[55.911158006574134,37.57408314228002],[55.911158006574134,37.57395439624726],[55.911136915553016,37.5738578367226],[55.91112486353548,37.57371299743579],[55.91112486353548,37.57356279373113],[55.91110075948309,37.573246293067136],[55.911088707454766,37.57301025867375],[55.91107665542257,37.572827868461154],[55.91105255134634,37.57262938499377],[55.91103146026769,37.57237189292807],[55.91100434314305,37.57204466342869],[55.910992291071516,37.57188373088787],[55.91098023900911,37.571706705092545],[55.91096216090852,37.57157259464196],[55.9109440827993,37.571352653502416],[55.91092901770196,37.57124536514194],[55.91092901770196,37.57105224609266],[55.91088080934433,37.5706981945033],[55.91084465303484,37.57036023616738],[55.91083862698094,37.57012420177384],[55.910817535785526,37.57001691341275],[55.91077535335973,37.56975942134761],[55.91076028819659,37.56957166671689],[55.91075124909582,37.56942682743003],[55.91073015785261,37.569287352560835],[55.91073015785261,37.569190793036455],[55.91068797533116,37.569008402823634],[55.910672910133805,37.56883674144641],[55.91066387101269,37.56867580890562],[55.91064277971521,37.568488054274795],[55.910618675368276,37.56824129104566],[55.91058251882027,37.56808035850461],[55.91057347967772,37.56777458667657],[55.91053431003619,37.567570738791694],[55.91049815340867,37.567227416037674],[55.91045898369075,37.56680899143154],[55.910455970633905,37.56663196563624],[55.91042282699299,37.566433482169465],[55.91037763107311,37.56613843917758],[55.91036557881886,37.56593459129265],[55.91034147429928,37.56576829433356],[55.91033544816661,37.5654625225059],[55.910281212927266,37.565253310202536],[55.91026313449923,37.565028004645505],[55.91021793839237,37.56475441932601],[55.91020588608836,37.56447010517048],[55.91016671607387,37.56413751125244],[55.910130559102406,37.56384783267906],[55.91010344135161,37.56359034061374],[55.910091389011775,37.56334357738397],[55.91005221888133,37.563069992064676],[55.91001003561294,37.56260865211387],[55.90998894396492,37.562415533065],[55.90996483920349,37.5621634054175],[55.90993470823852,37.56194346427829],[55.909898551036896,37.56154113292629],[55.90986540691743,37.56135874271331],[55.90984732829503,37.56115489482783],[55.909811171024145,37.56087594509053],[55.909811171024145,37.56060772418868],[55.90976296127738,37.56040924072193],[55.9097418694941,37.560162477492355],[55.90971475147027,37.55993180751707],[55.90969667277728,37.559744052886245],[55.90969667277728,37.55961530685349],[55.90966051536541,37.559261255263316],[55.90964243664695,37.55902522086997],[55.909591213565406,37.55880527973079],[55.90957012168833,37.55848877906695],[55.90955806918212,37.55824201583766],[55.90953999041549,37.55809717655118],[55.90952191164043,37.55790405750195],[55.90948876719125,37.557625107764316],[55.9094315176258,37.55715303897797],[55.90940439938383,37.55691164016628],[55.909383307404966,37.55669706344524],[55.90936824169858,37.556541495322655],[55.90935618912928,37.556391291617615],[55.909329592316006,37.55616636416533],[55.90930548714951,37.555946423025965],[55.90930247400255,37.555774761649175],[55.90924522416749,37.55547435423919],[55.90921810579491,37.55511493823136],[55.90917290846469,37.554728700133055],[55.90916386899232,37.554540945502055],[55.90913675056258,37.55425663134658],[55.90907046098122,37.55355389258469],[55.90901019763221,37.553258849593064],[55.90898006591592,37.552759958716074],[55.90895294735729,37.552588297339454],[55.908937881482984,37.552346898527986],[55.90889569699742,37.551848007651024],[55.90886556519847,37.55166561743828],[55.90882036745598,37.55140276095466],[55.90877818284189,37.550839497061375],[55.90874202456996,37.5504478945454],[55.908702853070686,37.55010457179163],[55.9086064307431,37.5491604342183],[55.90858232512502,37.54892976424278],[55.90853712705089,37.548720551939624],[55.90852507422222,37.54854352614488],[55.908506994972306,37.548280669661565],[55.908497955343925,37.54805536410397],[55.908449743957604,37.54769594809608],[55.908419611810494,37.5473204388342],[55.90837140032652,37.54712195536697],[55.908336505599216,37.54661947046485],[55.90828829401107,37.54630833421921],[55.90823405589638,37.54570751939962],[55.90821296327788,37.54549830709687],[55.90810750000094,37.544731195318406],[55.908116539720695,37.54455416952331],[55.90808038082955,37.544296677457965],[55.90801107619338,37.543738777983066],[55.90797793045371,37.5434169129011],[55.90796889069517,37.54312723432755],[55.907938758172975,37.5427731827375],[55.9078905460886,37.54236012254911],[55.90785137372543,37.542027528631245],[55.907806174796036,37.54160910402511],[55.907757962545986,37.54128723894302],[55.90773385639839,37.5409492806071],[55.90770071042095,37.54062741552562],[55.90767057768944,37.540343101369814],[55.907622365269994,37.54004805837823],[55.90760428559724,37.53979056631294],[55.907565507167746,37.53938235514883],[55.907493188319634,37.538620607788474],[55.90743292250278,37.53801979296919],[55.9073666300029,37.537418978149844],[55.907276230955716,37.53682889216672],[55.90719788494401,37.53616370433124],[55.907131592040436,37.53547705882302],[55.907059272379634,37.53479041331541],[55.90697489927064,37.5342003273321],[55.90681820586505,37.53348149531618],[55.906733832230124,37.53288068049664],[55.90660124471595,37.532011644775906],[55.90643249631292,37.53120698207144],[55.90633540559748,37.53068837996306],[55.906196789931265,37.529969547947424],[55.90594366439891,37.52911124106241],[55.90576888627728,37.528467510898885],[55.90560616110824,37.52785596724357],[55.90540727385951,37.52709421988301],[55.905238520238996,37.52653632040816],[55.905051685013646,37.52595696326098],[55.90484074093084,37.52529177542532],[55.90462376867226,37.524723147114095],[55.90444898457726,37.52425107832752],[55.904159685020744,37.52354297514742],[55.9039065461367,37.522942160328284],[55.903671487116284,37.52239498968916],[55.903436426665,37.52180490370585],[55.90289397400355,37.520581816395094],[55.90265288148934,37.52001318808399],[55.9023816506118,37.519390915592446],[55.9021526097213,37.51896176214998],[55.901989869315415,37.51857552405167],[55.901766853571885,37.51807126875709],[55.90157397405267,37.51754555579027],[55.9011821845573,37.516773079593754],[55.90097724693417,37.51622590895468],[55.9007481977155,37.51562509413555],[55.900569138957586,37.51534579240746],[55.900296406745476,37.514686535231334],[55.90009146442267,37.51427883946095],[55.89991665981756,37.51382822834678],[55.89971171547999,37.5133668883959],[55.89948265875731,37.512808988920874],[55.8992596285379,37.512294004790085],[55.89902454123711,37.51187558018373],[55.89882562009603,37.5114142402333],[55.89867492157986,37.51109237515126],[55.89851216652214,37.510706137053205],[55.89809623381481,37.509751270643946],[55.897312580309084,37.50789518200559],[55.89687854999212,37.5069832309407],[55.896426429887214,37.505856703154365],[55.89614309859535,37.50533099018732],[55.89567891304549,37.50403280102412],[55.89551614536548,37.50376458012257],[55.895220750416925,37.50314230763136],[55.894925353203504,37.50249857746763],[55.89475327923001,37.5021876743962],[55.89441653210408,37.50134896618813],[55.89410304275508,37.50056576115587],[55.89384380925693,37.500007861680615],[55.89354840152239,37.499396318025326],[55.89334342339945,37.49894570691088],[55.8930359541764,37.49826979023907],[55.892830973335265,37.49763678891168],[55.892481297625814,37.4969179568953],[55.8922582269852,37.49645661694498],[55.89202912606829,37.49585580212567],[55.891564891091306,37.49493312222429],[55.891403394635944,37.494551197353154],[55.89126472538594,37.494261518780135],[55.89101753114077,37.4937036193048],[55.89079445205006,37.493285194698366],[55.89064372220552,37.492770210567066],[55.89047490408184,37.492394701305244],[55.89023373405416,37.491911903682535],[55.890058884843185,37.49142910606014],[55.889666978558125,37.49045278197839],[55.8894318328838,37.48989488250314],[55.88937756829378,37.48960520392996],[55.88917256803203,37.48914386397916],[55.88887109510277,37.48829628593074],[55.888786682254526,37.48796369201261],[55.888617856017994,37.48757745391443],[55.88844902904365,37.486912266078726],[55.88827417175746,37.486408010784096],[55.88813549127785,37.485807195964554],[55.88798475106218,37.48527075416166],[55.88777974342481,37.48455192214571],[55.88766517985953,37.483929649654094],[55.887381784311756,37.482878223720206],[55.8872672195671,37.48247052795],[55.88719486271122,37.48210574752405],[55.88706220812366,37.481633678737296],[55.88689337434695,37.480968490901844],[55.88666424162215,37.479970709147864],[55.88657982395997,37.479530826869954],[55.88624818135304,37.478425756755705],[55.88609140386015,37.4776961959034],[55.88590447601847,37.477009550395636],[55.88569945734601,37.4762370741991],[55.8855607676275,37.47558261519978],[55.88536780719087,37.47468139297071],[55.885150725548435,37.47401620513497],[55.88486128146188,37.47285749084046],[55.8845778653535,37.4716987765463],[55.884402990551955,37.4710657752185],[55.88411354085949,37.46987487441605],[55.88392660345183,37.46902729636722],[55.88378790737166,37.468372837368],[55.88359493808399,37.46747161513898],[55.883462271140196,37.46675278312273],[55.88338990716064,37.46599103576258],[55.88335975546258,37.46554042464795],[55.88322105734826,37.46473576194333],[55.883154723291675,37.46392037040299],[55.883124571410065,37.46301914817391],[55.883076328350725,37.46240760451845],[55.883021522800895,37.46158171100417],[55.88297327961297,37.46031570834918],[55.88297327961297,37.45859909457953],[55.88293106677386,37.45701122684268],[55.88291297554324,37.45532679958145],[55.882895476882176,37.45447306889887],[55.8828351726846,37.45340018529303],[55.882811050981864,37.452230742162534],[55.88275677709538,37.451436808293685],[55.882642198640674,37.450471213048196],[55.882527619846606,37.449441244787],[55.882316552757054,37.44772463101759],[55.88215372878004,37.446619560903336],[55.88179189527868,37.44488148946169],[55.88129738401617,37.44292884129889],[55.88097775751096,37.44182377118474],[55.88062797450137,37.44064359921819],[55.8802058184252,37.4393024947104],[55.87989221378393,37.43826179761254],[55.87959066846042,37.4372962023671],[55.87933736857121,37.43653445500694],[55.87907803601244,37.43564396161428],[55.87881267066356,37.434882214254074],[55.87868601837099,37.43436723012283],[55.87841461921153,37.433573296254664],[55.878016563674294,37.43230729359962],[55.87755216036696,37.43073015469908],[55.87696712488418,37.42889552373252],[55.87641223768962,37.42711453694651],[55.87577290125871,37.42510824460349],[55.87495863673278,37.42252259511309],[55.874331339774294,37.42050557393417],[55.8740357828726,37.41938977498379],[55.87351704488298,37.417909195607564],[55.873094811154026,37.41678266782144],[55.87264844477034,37.41560249585476],[55.87211762398532,37.41429357785556],[55.87134550801125,37.41254477757806],[55.870621635289346,37.41104274052927],[55.86997013825438,37.40974455136599],[55.869035100175765,37.408145954793156],[55.868323249583256,37.40696578282649],[55.86761741868634,37.4057856108603],[55.86694777233815,37.404916575139616],[55.866109189833125,37.403832962697365],[55.86523439015283,37.402781536763655],[55.86454056944093,37.40193395871475],[55.86353299893761,37.40097909230552],[55.86266417455577,37.40015297192902],[55.86179533066581,37.399380495732736],[55.86095663645643,37.398736765568906],[55.86014809388958,37.398103764241284],[55.85912230660663,37.39748149175009],[55.8580844235637,37.39690213460293],[55.85703444376995,37.396322777455396],[55.856153404266934,37.395829250997174],[55.85506112880487,37.39524989384966],[55.853938647870024,37.394670536702506],[55.85291269594796,37.39409117955504],[55.852218654227535,37.3937478568011],[55.85151856475139,37.39341526288344],[55.85053479692308,37.39280371922817],[55.849744143308996,37.39243893880207],[55.84908625889946,37.39211707371995],[55.848748258894204,37.392052700703765],[55.84840422014333,37.39190249699913],[55.84807828587407,37.39183812398274],[55.84773424116741,37.39179520863829],[55.84729965400857,37.391730835622184],[55.84703407056504,37.3917093779502],[55.8467684852993,37.391730835622184],[55.84623234337233,37.39174516360836],[55.845580435508836,37.391820265460936],[55.84516996936971,37.39194901149375],[55.84483797151401,37.39206702869012],[55.84430073258849,37.392335249591724],[55.843742928443696,37.39265637085579],[55.843133234991214,37.3930640666259],[55.84271670622057,37.393385931707634],[55.84230620971396,37.39368633911698],[55.84188967204462,37.39399747536315],[55.841437656752944,37.39424312588798],[55.84053971538438,37.39474806826563],[55.83996619415998,37.39500556033161],[55.83926588303256,37.39523086588859],[55.838704417553885,37.39538106959305],[55.838040308089695,37.395574188642456],[55.83758146216959,37.39569220583922],[55.83634979622679,37.39583168070772],[55.83552262603403,37.39585313838003],[55.834417692278834,37.3957458500192],[55.83352406161309,37.395552730970095],[55.83226811337242,37.39522013705241],[55.83154350932396,37.39497337382312],[55.830849084388554,37.39475879710181],[55.82967155277332,37.39435110133127],[55.82871138511802,37.39408288043],[55.82726203036192,37.39364299815173],[55.826597724643,37.39351425211882],[55.82606023258698,37.39339623492199],[55.82528719722105,37.39329967539774],[55.824894634296314,37.39317092936498],[55.82417593186413,37.39295635264372],[55.82361964951259,37.39282559557038],[55.82273784925789,37.39255737466893],[55.82189226852435,37.392332069111774],[55.82111310993916,37.392063848209766],[55.82046053879974,37.3918338564984],[55.81963906947414,37.391630008613554],[55.81871489567767,37.39131887236761],[55.818008159665666,37.391082837974224],[55.81672150458649,37.39067514220386],[55.81547709331736,37.39024598876159],[55.81441991642065,37.38991339484365],[55.81310293572433,37.38952715674562],[55.81229283138964,37.389264071096086],[55.81112077724544,37.38883491765339],[55.80980368443319,37.38849159489988],[55.8085953030364,37.38806244145726],[55.80737479958551,37.38754745732627],[55.805985070641974,37.38696810017927],[55.805259974895925,37.38653894673675],[55.80459529188072,37.38621708165514],[55.80377348621567,37.385616266835825],[55.80300000613975,37.38503690968874],[55.80210565057844,37.384307348836415],[55.800667386866365,37.383062803853655],[55.79885437340908,37.38141056310043],[55.797585213547386,37.37999435674034],[55.79574787995717,37.37832065831496],[55.79358406628315,37.37613197575877],[55.79262904865752,37.37531658421845],[55.79145639992219,37.37415786992429],[55.79030789514527,37.37314935933446],[55.789280256780906,37.3722695947775],[55.78803496438941,37.37132545720414],[55.78705562870369,37.370853388417714],[55.785338708946746,37.37010236989341],[55.784419762929026,37.36990925084425],[55.783481258140746,37.36970561431591],[55.78201811903416,37.369598325955515],[55.77998656168665,37.36953395293919],[55.77796699151925,37.36942666457875],[55.775378885674705,37.369405206906436],[55.77276641689641,37.3693408338904],[55.770153772256236,37.36927646087393],[55.769113503685276,37.369255003201566],[55.76792804737546,37.369212087857335],[55.76716630959847,37.36922982052669],[55.76600552698404,37.36918392197275],[55.76477158514781,37.36909809128422],[55.763840054058235,37.36909809128422],[55.76273912486425,37.36905517594011],[55.76180440197851,37.36910610573873],[55.760727612906834,37.36897735970577],[55.75971129021758,37.36895590203402],[55.758755438654184,37.369020275050055],[55.75761806563426,37.36889152901729],[55.75665006235647,37.36891298668965],[55.75460507610186,37.368934444361734],[55.753334468281906,37.368805698329176],[55.75174917548341,37.36876278298479],[55.74986126148221,37.36887007134549],[55.748614703873876,37.36895590203402],[55.74717445643789,37.369213394099205],[55.74563732675078,37.36964254754165],[55.744088032143864,37.37024336236096],[55.74200607022506,37.37123041527855],[55.74010557737005,37.37217455285163],[55.738398686086086,37.3730543174086],[55.736691719835925,37.37386970894902],[55.73510354985645,37.37470878561607],[55.7331300743626,37.37573875387747],[55.731095957965536,37.376854552827396],[55.72911017023211,37.377841605744784],[55.72688209250805,37.37895740469532],[55.72494452982626,37.379987372957075],[55.72370928322252,37.38054527243212],[55.722256001683824,37.381360663972494],[55.720899556569975,37.382004394136274],[55.71951884063805,37.382712497316184],[55.718440879212956,37.383248939119134],[55.71736288790271,37.38384975393824],[55.716224302845056,37.384450568757735],[55.714916100142176,37.38505138357707],[55.713777443457126,37.38563074072425],[55.71277373807063,37.38624091134248],[55.71159867601411,37.387056302882854],[55.710399349273246,37.387957525111645],[55.70947862891067,37.38883728966876],[55.70841250441913,37.39008183465145],[55.707237310625196,37.391583871700206],[55.70595303764121,37.39338631615815],[55.704744058975685,37.39510526510501],[55.704029187211624,37.39592065664558],[55.70341123662945,37.39699354025165],[55.70241764845241,37.39813079687388],[55.701060511410276,37.39982595297139],[55.70004262756813,37.40124215933084],[55.69917013451871,37.40257253500263],[55.69806737226451,37.404031656706735],[55.69704941014339,37.405469320738725],[55.6954981785663,37.40759363027814],[55.694722539598,37.40853776785143],[55.69399536402761,37.409503363097066],[55.69309849544987,37.410683535063356],[55.69227432772089,37.411498926603905],[55.69148650402825,37.4123357758164],[55.69056533610773,37.41295804830846],[55.68966838850441,37.41362323614396],[55.68872293487087,37.41418113561858],[55.68754714640733,37.41471757742213],[55.68648042100094,37.41508235784765],[55.68540154399032,37.415404222929716],[55.68428626891132,37.41591920706058],[55.68344979164468,37.41636981817528],[55.68257692664466,37.4169062599779],[55.68152218866656,37.41763582083015],[55.68054016555999,37.418472670042725],[55.6788791565329,37.41963138433742],[55.67744844964444,37.420661352598636],[55.67594493831244,37.42182006689318],[55.67485364374528,37.42267837377822],[55.673798696602574,37.42347230764643],[55.67217377959107,37.424716852629295],[55.671191520772965,37.425424955809284],[55.670136474457756,37.42619743200577],[55.66843863879183,37.42742051931648],[55.667626076979225,37.4280427918079],[55.66693477970849,37.42860069128262],[55.666182828401006,37.429158590757844],[55.665261061841264,37.429845236265784],[55.66437566026192,37.430467508757],[55.66362365957094,37.43119706960913],[55.662786738514576,37.43186225744498],[55.6619983181809,37.43261327596898],[55.66117349214516,37.43338575216532],[55.66036077883104,37.434179686033964],[55.65900217543622,37.43570318075402],[55.65793466813382,37.43705501409792],[55.656757950067245,37.43840684744103],[55.65576317099853,37.439565561736025],[55.65475623463167,37.44072427602991],[55.6537371400197,37.441947363340894],[55.65208712082676,37.44415750356937],[55.65076462855835,37.44572391363395],[55.64956342698692,37.447032831633024],[55.64850779504979,37.44832029196032],[55.64758561043563,37.44935026022213],[55.646736210575064,37.45035877081183],[55.64569263684012,37.45156040045056],[55.64464903518437,37.452804945433066],[55.64362967637369,37.45396365972788],[55.64251320519416,37.45531549307097],[55.64174864671475,37.45623817297217],[55.64098407324737,37.45716085287332],[55.64030443980516,37.457933329069455],[55.639576247976024,37.45881309362637],[55.63882376880372,37.45960702749483],[55.638047000877116,37.46046533437964],[55.637367316258526,37.461409471952955],[55.63652983142478,37.46222486349373],[55.6359350849004,37.46299733968961],[55.63540101907034,37.46364106985344],[55.6347334264947,37.464413546049435],[55.63330109843479,37.46604432913081],[55.632172192655666,37.46733178945771],[55.63121320402335,37.468447588407756],[55.62986572446677,37.47001399847274],[55.62876099931268,37.471301458799914],[55.627777646217275,37.47250308843874],[55.62690353377334,37.47355451437247],[55.62570159718663,37.47492780538802],[55.624827438234675,37.4759792313216],[55.62378327827653,37.477159403288454],[55.62292121818977,37.478210829222036],[55.62173130115661,37.47954120489362],[55.62033492367715,37.4811076149582],[55.6195092161032,37.482008837187244],[55.61869563420482,37.48297443243245],[55.6175177318588,37.4844335541366],[55.616376225565546,37.48580684515225],[55.61529540693609,37.486965559446766],[55.61432385903597,37.48812427374108],[55.61347373479048,37.48924007269143],[55.61283005697725,37.49007692190393],[55.61136048861092,37.49160041662462],[55.610692484708196,37.49243726583674],[55.609611508729685,37.493724726164224],[55.60885845159991,37.494475744688835],[55.60779455387422,37.49579600029447],[55.60634908995706,37.49753407173601],[55.60530443567601,37.498735701375125],[55.60421116290085,37.49998024635763],[55.60259549265447,37.50182560616016],[55.60168700456252,37.5029001280113],[55.60076371294445,37.504080299977915],[55.59956097139023,37.50560379469851],[55.59869837636613,37.50678396666513],[55.59794510879446,37.508178715352706],[55.59696097927768,37.509981159811],[55.59607402649208,37.512019638662274],[55.595345009131606,37.51386499846448],[55.59477393603085,37.51571035826678],[55.59398414032883,37.518607144002786],[55.593291537113096,37.521503929739026],[55.592380198387495,37.52521610701538],[55.5916146574196,37.52852058852211],[55.590836949662936,37.53178215468389],[55.58986479320097,37.535794739370125],[55.58898983170053,37.53924942458152],[55.588442970818534,37.541717056875086],[55.587908255001416,37.54386282408699],[55.58727630869404,37.5466523214623],[55.58642559559925,37.55010700667384],[55.58540471544951,37.55435562575312],[55.58457826911894,37.55776739562002],[55.58392196107014,37.56068563902821],[55.5831805627899,37.56375408614142],[55.582414841601505,37.56680107558237],[55.58197727990511,37.5685820623679],[55.58147893978566,37.57089949095721],[55.581187225547914,37.572186951284],[55.58088335423581,37.5734314962671],[55.58048224048689,37.575191025381],[55.58008112262222,37.57669306242913],[55.57946804255884,37.57929305034676],[55.578957514954,37.58143881755885],[55.578495603280814,37.583327092705055],[55.57810662079678,37.58506516414706],[55.57760823133238,37.587039269981794],[55.57707336727923,37.589399613914956],[55.576623589570566,37.59160975414321],[55.576356151717064,37.593412198600966],[55.57614949394601,37.59532193141974],[55.57595499151616,37.597038545189385],[55.57582127053451,37.59993533092531],[55.5756267664721,37.602746285973105],[55.5754930443678,37.605299748955225],[55.57542010484556,37.60720948177423],[55.57528638203443,37.60892609554338],[55.57518912879373,37.61004189449331],[55.57518912879373,37.61120060878805],[55.57510403200338,37.612359323082416],[55.575031091755456,37.613646783409386],[55.57493383787977,37.6151488204579],[55.57484874054003,37.61635045009632],[55.57481227019502,37.616908349571595],[55.574763643015075,37.618410386619956],[55.574690702132145,37.619740762291116],[55.574544819957836,37.62158612209349],[55.574386780321596,37.62377480464966],[55.57432599567605,37.62521246868173],[55.574216583075504,37.62733677822168],[55.57409501316061,37.62877444225352],[55.57399775695684,37.63111332851453],[55.573815400916274,37.63334492641476],[55.57375461538207,37.6352332015613],[55.57358441538471,37.637593545494155],[55.573487157910726,37.64014700847666],[55.57331695674921,37.642764844475145],[55.57321969860967,37.64467457729391],[55.57312244022871,37.645640172539146],[55.57306165361744,37.646584310112225],[55.572970733880716,37.64794231754099],[55.572848943456265,37.650343725595036],[55.57281247124536,37.65201742402062],[55.57264226714732,37.653884241494694],[55.57260579474409,37.655536482247946],[55.57249637733066,37.65697414628014],[55.57233832941466,37.658991167459334],[55.57220459606389,37.66094381562214],[55.57209517752742,37.663389990243985],[55.57197360101707,37.6649349426363],[55.571912812613995,37.666673014077794],[55.57193712798436,37.66819650879841],[55.571949285663536,37.669998953256375],[55.571949285663536,37.67107183686201],[55.57203438931357,37.67208034745192],[55.57214380801997,37.673131773385876],[55.57227754157851,37.67456943741767],[55.57245990478502,37.67587835541694],[55.57261795220961,37.67692978135086],[55.57278815641364,37.677766630563404],[55.57297051723886,37.6788180564975],[55.573165034514986,37.67969782105423],[55.573298764581345,37.680191347513244],[55.57348112302527,37.68092090836496],[55.573699952035575,37.6816290115447],[55.574101135367265,37.68306667557725],[55.574441530123046,37.68405372849421],[55.574708981066756,37.684933493051176],[55.57507368395079,37.68587763062446],[55.5753654438088,37.686650106820615],[55.5757544535665,37.687680075082625],[55.57590033122743,37.6882594322296],[55.57609483392887,37.68866712800014],[55.57633796094517,37.68931085816374],[55.57658108644972,37.68991167298285],[55.57681205427878,37.69059831849046],[55.577115957237766,37.69132787934304],[55.577407701856366,37.69214327088349],[55.577675132510734,37.69289428940746],[55.57794256133582,37.69351656189911],[55.57812489812241,37.69411737671845],[55.57853137828856,37.695162518665036],[55.57879880125061,37.69595645253325],[55.5791756214191,37.696922047778614],[55.579515971997736,37.69793055836839],[55.579917095661415,37.698939068957884],[55.58025743978445,37.69973300282617],[55.580670710807816,37.700848801776196],[55.58099889350829,37.701857312365846],[55.58135138296918,37.702801449939436],[55.581606631974296,37.70340226475875],[55.58189834308189,37.7040674525942],[55.58219005201274,37.705054505511995],[55.582433141125456,37.70571969334725],[55.58273700039027,37.706406338855594],[55.583065165743726,37.707350476428594],[55.583672872079596,37.709088547870316],[55.58420764584445,37.71044038121363],[55.584633028842305,37.71159909550797],[55.584949024643684,37.71241448704875],[55.585179943036536,37.71314404790071],[55.5854473205243,37.71385215108076],[55.58577546312281,37.714689000293006],[55.585994223324505,37.71520398442402],[55.58621298230164,37.715847714588],[55.58638312732645,37.716362698718385],[55.58677202745882,37.717414124652144],[55.58700293508148,37.717929108783366],[55.58734771009899,37.71875099709693],[55.58768798952793,37.71958784630954],[55.588003960630644,37.72051052621074],[55.58829562399623,37.721197171718345],[55.58853867513833,37.72175507119358],[55.5887452674206,37.72216276696399],[55.589012620511426,37.72293524316027],[55.58931642863509,37.723772092373004],[55.589632386571495,37.72445873788058],[55.59000910231112,37.72527412942131],[55.59041011830157,37.72611097863363],[55.59070176370956,37.72690491250228],[55.59105416566776,37.72787050774751],[55.59163744469393,37.72917942574656],[55.59206274682858,37.73018793633644],[55.592791825426474,37.73203329613836],[55.59333862545211,37.73310617974476],[55.593861116104826,37.73432926705519],[55.59433499693396,37.735402150661585],[55.59474811912123,37.736517949611404],[55.595294891770386,37.737869782954874],[55.595720154096114,37.73892120888883],[55.596036060255926,37.73960785439644],[55.59643701439595,37.74068073800274],[55.59688656414401,37.74166779092028],[55.59731180914496,37.74269775918168],[55.59781296047066,37.7440071047371],[55.59859052937833,37.745766633851595],[55.59900360656882,37.74673222909662],[55.59939238111115,37.74767636666993],[55.599854045855125,37.74879216562003],[55.60026710968502,37.74971484552144],[55.600631574136855,37.75070189843839],[55.601093224241346,37.75162457834001],[55.601542720411,37.75269746194564],[55.60205295303781,37.75374888787968],[55.60275754904154,37.75510072122335],[55.603705089138955,37.75681733499271],[55.604458245644025,37.7581691683361],[55.60513850355297,37.75939225564673],[55.60557580595204,37.76022910485918],[55.60614672115957,37.76132344613761],[55.60670548115369,37.76237487207137],[55.607264233153586,37.763361924988736],[55.60785941670779,37.7643275202341],[55.60834527410298,37.7652502001355],[55.60874610190819,37.766001218659554],[55.60913477948763,37.76675223718391],[55.6096570588929,37.76771783242914],[55.61017933131284,37.76857613931395],[55.610701596747816,37.76960610757512],[55.61113883685591,37.77031421075509],[55.61158821742091,37.771151059968176],[55.612074028430065,37.77205228219727],[55.612656993656195,37.77321099649141],[55.61337354316335,37.774283880097705],[55.61383504266298,37.77524947534294],[55.614697303426915,37.776901716096035],[55.615389527160566,37.77810334573494],[55.61609388257207,37.779390806061734],[55.61681036900439,37.78076409707731],[55.617611846719605,37.78222321878158],[55.618376878279555,37.783510679108524],[55.61903260768423,37.78479813943588],[55.619938089774536,37.786515187465355],[55.62060593550127,37.787802647792226],[55.62131019679876,37.7895192615623],[55.62223300271302,37.791235875331715],[55.622997943709,37.79252333565843],[55.62417568069327,37.79471201821483],[55.62492844241036,37.79602093621421],[55.625559779757126,37.79705090447589],[55.62598471260529,37.79763026162287],[55.62640964082666,37.79831690713109],[55.62689526741396,37.79889626427824],[55.627283764332894,37.799539994441716],[55.62763583632515,37.80001206322837],[55.62807288679293,37.80076308175255],[55.628692033237094,37.80159993096482],[55.629068372357494,37.80230803414525],[55.6295307501736,37.802995809058785],[55.63034410622897,37.804261811713936],[55.63093893798774,37.80507720325425],[55.63147306490147,37.80599988315545],[55.6321164353333,37.80698693607323],[55.632711240073725,37.8079310736463],[55.633427421510504,37.808982499580495],[55.6339493759661,37.80977643344884],[55.63461698195178,37.81069911334991],[55.63546664576882,37.81198657367683],[55.63617063891845,37.81320966098756],[55.63678965688081,37.81404651020037],[55.63737225304936,37.814969190101415],[55.63791842905471,37.81584895465838],[55.63870733645115,37.81700766895295],[55.639326314161046,37.81801617954222],[55.63995741857552,37.81893885944342],[55.64055090075984,37.81977250625653],[55.64114557690535,37.82069518615752],[55.641982962644086,37.821918273468484],[55.64261402407488,37.82296969940199],[55.643366430128,37.82406404068052],[55.64390038690808,37.82505109359735],[55.644640633079,37.82610251953131],[55.645054267366774,37.82678414072229],[55.645952242526455,37.828050143377176],[55.646534701848374,37.828951365606024],[55.64689873450648,37.829659468785756],[55.64755398472752,37.83060360635889],[55.648233491845595,37.831633574620845],[55.648779515770855,37.83249188150565],[55.64934979926262,37.833264357702014],[55.65016274215495,37.83440161432425],[55.6508300706726,37.835131175176066],[55.65149738776886,37.8358821937005],[55.65204336598877,37.83637572015936],[55.65263786691052,37.836912161962104],[55.653365814877034,37.83744860376525],[55.65423933448894,37.83809233392903],[55.654979384405614,37.838457114354725],[55.65574368350696,37.83884335245308],[55.65649583624669,37.839165217534664],[55.657150925195545,37.839422709600164],[55.65778174118578,37.83955145563272],[55.65869155395475,37.839808947698444],[55.659455780274634,37.83987332071458],[55.6600744287019,37.839937693730796],[55.6606324169001,37.839937693730796],[55.66123891674476,37.839937693730796],[55.66185753687558,37.83991623605887],[55.66268234843488,37.83974457468185],[55.66342223805608,37.83959437097693],[55.66410146863134,37.839444167271886],[55.664671528012526,37.83920813287913],[55.66536286543489,37.8389506408132],[55.665981420100856,37.838757521764485],[55.66658783671264,37.83850002969922],[55.66731552418933,37.83824253763349],[55.66841915758184,37.837834841863206],[55.66954701437539,37.83738423074886],[55.67058994965636,37.83704090799507],[55.67189964279918,37.8365044661919],[55.67328204890249,37.8360538550775],[55.67499179912365,37.83536720956977],[55.676010338058404,37.83500242914328],[55.67710160022125,37.83468056406185],[55.67810795933441,37.83435869897999],[55.67892030254906,37.834036833898075],[55.67987811830547,37.83365059580032],[55.68092077703472,37.8331999846857],[55.682411972985975,37.83247042383358],[55.68426679557644,37.83165503229301],[55.686230629092925,37.830861098424386],[55.687697378402014,37.830238825933066],[55.68955194924813,37.82950926508109],[55.69115190017702,37.829423434392574],[55.69292146629112,37.82920885767154],[55.69408497278008,37.82942343439277],[55.69563626066971,37.8295092650813],[55.69738322536271,37.829730260376785],[55.69892226363261,37.830331075196554],[55.70025523972843,37.83097480535975],[55.701915337027465,37.83204768896551],[55.70369653055509,37.8329918265391],[55.705240501541276,37.83368711721714],[55.706555963251894,37.834408032898956],[55.70734348196173,37.834794270997136],[55.70845809658229,37.83535217047237],[55.70991189375185,37.836189019684895],[55.710990091565435,37.83691858053681],[55.712625503125864,37.83739064932352],[55.7147938316831,37.8386351943062],[55.7165017595762,37.83874248266675],[55.7185971998612,37.8390643477489],[55.72018384542934,37.839193093781454],[55.72146764866123,37.83932183981422],[55.72270296646948,37.839536416535246],[55.725803199124044,37.83990119696137],[55.729423861035094,37.84037326574777],[55.73228140290829,37.84078096151831],[55.735259803475564,37.841038453583785],[55.73823229008954,37.84144612385241],[55.74013856000394,37.84155343771452],[55.742256936028525,37.841832387451994],[55.74456886033229,37.841961133484986],[55.74746159804119,37.842218625550096],[55.75007576984888,37.84224008322221],[55.752943894851676,37.84239028692689],[55.75573920529741,37.84256194830389],[55.757723632584515,37.84262632132028],[55.759828950681324,37.842755067353195],[55.76142601241063,37.842883813385754],[55.76332546242334,37.84299110174603],[55.766470844080885,37.84311984777938],[55.769743559754176,37.843314966172244],[55.77278503328833,37.843270051483934],[55.77649807105165,37.842862355713265],[55.78044051707884,37.84232591391032],[55.782471265147755,37.84232829221316],[55.78483360551678,37.84196816836267],[55.78657107133377,37.841725099091235],[55.78967829986937,37.84140323400917],[55.7925797671513,37.841145741943826],[55.79603706554652,37.84073804617367],[55.79995335294738,37.840180146698366],[55.8023706168772,37.83996556997731],[55.8052590496098,37.83992265463338],[55.80800597240031,37.83957918884933],[55.811268565320724,37.839450442816364],[55.81431340427448,37.83902128937428],[55.81743049156521,37.83863505127599],[55.8197862632572,37.83812006714498],[55.823156579855194,37.83603867294964],[55.82528250689146,37.83475121262229],[55.8273841609801,37.832111918951874],[55.829691017819385,37.82872160675672],[55.8318769700239,37.82460173371001],[55.834135255144105,37.81990250351591],[55.83558435269156,37.81704863312416],[55.8369609451396,37.814731204535256],[55.83850309018503,37.81169576519069],[55.840462582513105,37.80767163040802],[55.843263664410365,37.80292948486952],[55.844892529615535,37.799722224244],[55.846654647976585,37.79574489773334],[55.84837028779421,37.792758548285086],[55.849797407555705,37.789851081058636],[55.8513880699755,37.786986434485044],[55.852848592038065,37.78381069901149],[55.85435733794896,37.78084954025881],[55.85624017031492,37.77707298996588],[55.85821945939474,37.77329643967311],[55.86007796795431,37.76926239731471],[55.86197258932146,37.765872085119994],[55.863746450050556,37.76226719620412],[55.86601494251402,37.75812586548512],[55.86790927310618,37.7540918231268],[55.87085314414891,37.748684489752605],[55.87386917304111,37.74254759552631],[55.87651102105463,37.737762534643835],[55.87873051637464,37.7333207965151],[55.88135997093546,37.728471362615984],[55.88292790916588,37.72486647369993],[55.885074675276925,37.72091826203008],[55.88712484620245,37.71686276199989],[55.88892167127689,37.71276434662505],[55.89026434641027,37.70989833649872],[55.89230694775445,37.705552974570544],[55.89358506317179,37.70074645601553],[55.89417587582081,37.697506347526115],[55.89458585723312,37.69323939825336]]];



ymaps.ready(init);
function init()
{
	myGeoObjectsCollection = new ymaps.GeoObjectCollection();	
	function checkObj(point,objects){
		 var flag=false;		 
		 objects.each(function(object){
		 	if(object.geometry.contains(point.geometry.getCoordinates())) {                       
                       flag=object.properties.get('name');
                       zone=flag;                       
                       return flag;                                           
                    }                                     
         });  
         //console.log(flag);       
         return flag;
    			}	
    var myMap = new ymaps.Map("map", {
		center: [55.73, 37.75],
		zoom: 9,
		behaviors: ['default', 'scrollZoom']
	});
	myMap.controls.add('mapTools');
	var arPlacemarksMMK = new Array();
	for (i=0; i<mkad[0].length; i++)
		arPlacemarksMMK[i] = new ymaps.Placemark(mkad[0][i]);
	var arPlacemarksRezMMK = ymaps.geoQuery(arPlacemarksMMK).addToMap(myMap).setOptions('visible', false);	
	var mkad_polygon = new ymaps.Polygon(mkad, {
    hintContent: "МКАД",
    name:'z_mmk'
	}, {
	    fillColor: '#ff0f0f',	    
	    interactivityModel: 'default#transparent',
	    strokeWidth: 8,
	    opacity: 0.3
	});		
	/*var odincovo_polygon = new ymaps.Polygon(odincovo_coords, {
    hintContent: "Зона доставки Одинцовский район",
    name:'z_odincovo'
	}, {
	    fillColor: '#0fff0f',	    
	    interactivityModel: 'default#transparent',
	    strokeWidth: 8,
	    opacity: 0.4
	});	*/
	var ring3_polygon = new ymaps.Polygon(ring3_coords, {
	    hintContent: "Зона доставки 3-е кольцо",
	    name:'z_ttk'
	}, {
	    fillColor: '#0000ff',	    
	    interactivityModel: 'default#transparent',
	    strokeWidth: 8,
	    opacity: 0.4
	});
myGeoObjectsCollection.add(mkad_polygon).add(ring3_polygon);
	 myMap.geoObjects.add(myGeoObjectsCollection);		
	var needed_point, obj_collection;
	
	myMap.events.add('click', function (e)
	{


		$("#adres").val('');
		if (needed_point)
		obj_collection.removeFromMap(myMap);
					
		var coords = e.get('coordPosition');
		needed_point = new ymaps.Placemark(coords, {},{preset: 'twirl#blueStretchyIcon', draggable: false});
		obj_collection = ymaps.geoQuery(needed_point).addToMap(myMap);		
		var closestObjectMMK = arPlacemarksRezMMK.getClosestTo(coords);
		var curr_zone=checkObj(needed_point,myGeoObjectsCollection);
		if(!curr_zone){
		
		ymaps.route([
			closestObjectMMK.geometry.getCoordinates(),
			coords
		]).then(function (route) {			
			var distance = Math.round(route.getLength()/1000);
			$("#kalkDelivery input[name=range]").val(distance).change();
			needed_point.properties.set({iconContent: distance+" км "+"("+$("#result").text()+" руб.)"});
			
		 });
		}else{
			//console.log(curr_zone);
			$("#kalkDelivery input[name=range]").val(0).change(); 
			needed_point.properties.set({iconContent: ""+$("#result").text()+" руб."}); 
		}
		
	});
///////////////////////////////////////////////	
	function checkadres(){
	var addr=$("#adres").val();
	var myGeocoder = ymaps.geocode(        
        addr, {            
            results: 1
        }
    );
    
    myGeocoder.then(
    function (res) {   
       if (res.geoObjects.getLength()) { 
        var point = res.geoObjects.get(0); 
		   console.log(point.geometry);
        var coords=point.geometry._coordinates;
        if (needed_point)obj_collection.removeFromMap(myMap);
        needed_point = new ymaps.Placemark(coords, {},{preset: 'twirl#blueStretchyIcon', draggable: false});
        myMap.panTo(coords);
        obj_collection = ymaps.geoQuery(needed_point).addToMap(myMap);
        
        var curr_zone=checkObj(needed_point,myGeoObjectsCollection);
		if(!curr_zone){
		
		var closestObjectMMK = arPlacemarksRezMMK.getClosestTo(coords);	
			ymaps.route([
			closestObjectMMK.geometry.getCoordinates(),
			coords
		]).then(function (route) {		
			//console.log(route);			
			var distance = Math.round(route.getLength()/1000);
			$("#kalkDelivery input[name=range]").val(distance).change();			
			needed_point.properties.set({iconContent: point.properties.get('name')+"("+distance+" км - "+$("#result").text()+" руб.)"});
		
		});
		}else{
				
			$("#kalkDelivery input[name=range]").val(0).change(); 
			needed_point.properties.set({iconContent: point.properties.get('name')+"("+$("#result").text()+" руб.)"});		
		}
        
       
    } else {        
        obj_collection.removeFromMap(myMap);
        myMap.panTo([55.73, 37.75]);
		 alert("Адрес не удалось определить");
    }   
    
   } ,   	   
    
    function (error) {
        alert("Возникла ошибка: " + error.message);
    }
);
	}
////////////////////////////////////////	
	$("#adres").on("focusout",checkadres);	
	$("#checkAdres").on('click',checkadres);    	
}